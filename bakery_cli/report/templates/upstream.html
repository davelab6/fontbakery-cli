<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upstream Tests</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
</head>
<body>
    <div class="container">
        <ul class="nav nav-tabs">
          <li><a href="index.html">Summary</a></li>
          <li class="active"><a href="upstream.html">Upstream Tests</a></li>
          <li><a href="tests.html">Downstream Tests</a></li>
          <li><a href="buildlog.html">Build Log</a></li>
          <li><a href="metadata.html">METADATA.json</a></li>
          <li><a href="bakery-yaml.html">bakery.yaml</a></li>
          <li><a href="description.html">Description</a></li>
        </ul>

        <h3>Upstream Tests</h3>

        <table class="table table-striped table-bordered table-condensed tablesorter">
            <thead>
                <tr>
                  <th>Category</th>
                  <th>Description</th>
                  <th>File</th>
                  <th>Result</th>
                  <th>Status</th>
                </tr>
            </thead>
            {% set map = {'success': 'OK', 'failure': 'FAIL', 'error': 'ERROR', 'fixed': 'FIXED'} %}
            {% set testTypes = { 'error': 'danger', 'failure': 'error', 'success': 'success', 'fixed': 'info'} %}

            {% for font in tests %}

                {%- for testType, icon in testTypes.iteritems() | sort %}
                    {% for item in sort(tests[font][testType]) %}
                    <tr>
                        <td>{{ ', '.join(item.tags) }}</td>
                        <td><span class="apopover" data-placement="top" data-content="{{ item.name|replace('.','/') }}.py:{{ item.methodName }}()">{{ item.methodDoc|default('None') }}</span></td>
                        <td>{{ font }}</td>
                        <td>{{ item.err_msg }}</td>
                        <td>{{ map[testType] }}</td>
                    </tr>
                    {% endfor %}

                {%- endfor %}
            {% else %}
                <h1>There is no data to display</h1>
            {% endfor %}
        </table>

    </div>

</body>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.17.7/js/jquery.tablesorter.min.js"></script>
<script>
    $(function(){
        // apopover class used on dashboard
        $('.apopover').each(function (index, item) {
            $(item).popover();
        });
        $('.tablesorter').tablesorter();
    })
</script>
<style>
    .popover {
        max-width: 1980px;
        font-family: Courier;
    }
</style>
</html>
